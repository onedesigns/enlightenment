.select2-container {
	font-size: var(--enlightenment-font-size-sm);

	&.form-select {
		width: auto;
		padding: 0;
		border: none;
	}

	.select2-selection--single {
		height: 2rem;
		margin: 0;
		text-align: left;
	}
}

.select2-container--default {
	.select2-selection--single {
	    background-color: var(--bs-body-bg);
	    border: var(--bs-border-width) var(--bs-border-style) var(--bs-border-color);
	    border-radius: 1rem;
		transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out, color .15s ease-in-out;

		&:hover {
			border-color: #80bdff;
		}

		&:focus {
			outline: none;
		}
	}

	&.select2-container--open,
	&.select2-container--focus {
		.select2-selection--single {
			border-color: #80bdff;
			box-shadow: var(--bs-focus-ring-x, 0) var(--bs-focus-ring-y, 0) var(--bs-focus-ring-blur, 0) var(--bs-focus-ring-width) var(--bs-focus-ring-color);
		}
	}

	&.select2-container--open {
		.select2-selection--single {
			border-color: #80bdff;
		}

		&.select2-container--below {
			.select2-selection--single {
				border-bottom-left-radius: 1rem;
			    border-bottom-right-radius: 1rem;
			}
		}

		&.select2-container--above {
			.select2-selection--single {
				border-top-left-radius: 1rem;
			    border-top-right-radius: 1rem;
			}
		}
	}
}

.select2-container .select2-selection--single .select2-selection__rendered {
	padding-left: 1rem;
    padding-right: 2rem;
}

.select2.select2-container--default .select2-selection--single {
	.select2-selection__rendered {
		color: var(--bs-body-color);
		line-height: calc(2rem - var(--bs-border-width) * 2);
	}

	.select2-selection__arrow {
		height: calc(2rem - var(--bs-border-width) * 2);
	    width: calc(2rem - var(--bs-border-width));

		b {
			left: 0;
		    width: 6px;
		    height: 6px;
		    margin-left: 7px;
		    margin-top: -5px;
		    border-top: none;
		    border-left: none;
		    border-right: 1px solid var(--bs-body-color);
		    border-bottom: 1px solid var(--bs-body-color);
		    -webkit-transform: rotate(45deg);
		    -moz-transform: rotate(45deg);
		    -ms-transform: rotate(45deg);
		    -o-transform: rotate(45deg);
		    transform: rotate(45deg);
		}
	}
}

.select2.select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b {
	margin-top: -2px;
	border-color: transparent var(--bs-body-color) var(--bs-body-color) transparent;
    border-width: 0 1px 1px 0;
	transform: rotate(-135deg);
}

.select2-container .select2-dropdown {
    box-sizing: content-box;
	padding: .5rem .5rem;
	margin-left: -.5rem;
	border: none;
	background-color: var(--bs-body-bg);

	&::before {
	    content: "";
	    position: absolute;
		left: auto;
		right: 1.25rem;
	    display: block;
	    border-width: 7px;
	    border-style: solid;
	    transform: rotate(45deg) translate(6px, 6px);
	}
}

.select2-container.select2-container--open {
	.select2-dropdown--below {
		margin-top: var(--enlightenment-dropdown-spacer);
		border-top-left-radius: var(--bs-border-radius);
	    border-top-right-radius: var(--bs-border-radius);
		box-shadow: 0 1px 1px rgba(var(--bs-emphasis-color-rgb), 0.25), 0 0 1px rgba(var(--bs-emphasis-color-rgb), 0.35);

		&::before {
		    top: -15px;
		    border-color: var(--bs-body-bg) transparent transparent var(--bs-body-bg);
		    box-shadow: -1px -1px 1px -1px rgba(var(--bs-emphasis-color-rgb), 0.44);
		}
	}

	.select2-dropdown--above {
		margin-top: calc(var(--enlightenment-dropdown-spacer) * -1);
		border-bottom-left-radius: var(--bs-border-radius);
		border-bottom-right-radius: var(--bs-border-radius);
		box-shadow: 0 -1px 1px rgba(var(--bs-emphasis-color-rgb), 0.25), 0 0 1px rgba(var(--bs-emphasis-color-rgb), 0.35);

		&::before {
		    bottom: 2px;
		    border-color: transparent var(--bs-body-bg) var(--bs-body-bg) transparent;
		    box-shadow: 1px 1px 1px -1px rgba(var(--bs-emphasis-color-rgb), 0.44);
		}
	}
}

.select2-dropdown .select2-search--dropdown {
	padding: 8px 12px 4px;
}

.select2-container.select2-container--default .select2-search--dropdown .select2-search__field {
	padding: .25rem .5rem;
	border-color: var(--bs-border-color);
	border-radius: .2rem;
	color: var(--bs-body-color);
}

.select2-results .select2-results__options {
	margin-left: -.5rem;
	margin-right: -.5rem;
}

.select2-results__options .select2-results__option {
	padding: 5px 1.25rem;
	color: var(--bs-body-color);
    line-height: 1.25rem;
	transition: color .15s ease-in-out;

	&:empty {
		min-height: 2rem;
	}

	&:active,
	&:focus {
		outline: none;
	}
}

.select2-container--default .select2-results__options {
	.select2-results__option {
		&[aria-selected="true"]{
			background-color: var(--bs-secondary-bg);
		}

		&[data-selected="true"] {
			background-color: var(--bs-primary);
			color: var(--bs-white);
		}
	}

	.select2-results__option--highlighted {
		&[aria-selected="true"]:not([data-selected="true"]) {
			color: var(--bs-body-color);
		}
	}
}

.select2-container--default {
	.select2-selection--multiple {
		min-height: 38px;
		border-color: var(--bs-border-color);
		border-radius: var(--bs-border-radius);
		background-color: var(--bs-body-bg);
		transition: border-color 0.15s ease;

		&:hover {
			border-color: #80bdff;
		}
	}

	&.select2-container--focus .select2-selection--multiple {
		border-color: #80bdff;
		box-shadow: var(--bs-focus-ring-x, 0) var(--bs-focus-ring-y, 0) var(--bs-focus-ring-blur, 0) var(--bs-focus-ring-width) var(--bs-focus-ring-color);
	}

	.select2-selection--multiple {
		.select2-selection__rendered {
			display: block;
			padding: .25rem;

			li {
				margin: 2px 4px 2px 0;
			}

			.select2-selection__choice {
				position: relative;
				display: flex;
			    align-items: center;
				padding: .25rem .5rem .125rem;
				margin: .125rem;
				border: 1px solid rgba(var(--bs-emphasis-color-rgb), 0.15);
				border-radius: var(--bs-border-radius-sm);
				background-color: var(--enlightenment-secondary-bg);
				color: var(--enlightenment-accent-color);
				font-size: var(--enlightenment-font-size-sm);
				line-height: 1rem;
				text-decoration-line: none;
				transition: border-color .25s ease, color .25s ease;

				&:hover {
					border-color: rgba(var(--bs-emphasis-color-rgb), 0.3);
					color: var(--bs-body-color);
				}

				&__remove {
					margin-right: .25rem;
					color: var(--enlightenment-accent-color);
					font-size: 1.5rem;
					font-weight: 300;
					text-align: center;
					transition: color .25s ease;

					&::before {
						content: "";
						position: absolute;
						top: 0;
						left: 0;
						right: 0;
						bottom: 0;
					}
				}

				&:hover .select2-selection__choice__remove {
					color: var(--bs-body-color);
				}
			}

			.select2-search.select2-search--inline {
				padding: .125rem .5rem;
				line-height: 1.25rem;

				.select2-search__field {
					width: auto !important;
				    padding-top: 1px;
				    padding-bottom: 1px;
				    margin: 0;
				    line-height: 1.125rem;
				}
			}

			.select2-selection__choice + .select2-search.select2-search--inline {
				padding-left: .125rem;
			}
		}

		.select2-selection__clear {
			display: inline-block;
			width: 1.5rem;
			padding: 9px 0 4px;
			margin: .125rem;
			border-radius: 50%;
			color: var(--enlightenment-accent-color);
			font-size: 1.5rem;
			font-weight: 300;
			line-height: 11px;
			text-align: center;
			vertical-align: middle;
			transition: color .25s ease;

			&:hover {
				color: var(--bs-body-color);
			}
		}
	}

	&.select2-container--open {
		&.select2-container--above,
		&.select2-container--below {
			.select2-selection--multiple {
				border-radius: var(--bs-border-radius);
			}
		}
	}
}

#site-language +,
.wpcf7-form-control-wrap {
	.select2-container {
		width: 100% !important;
		font-size: var(--enlightenment-body-font-size);

		.select2-selection--single {
			height: calc(1.5em + .75rem + 2px);
		}
	}

	.select2-container--default {
		.select2-selection--single {
			border-color: var(--bs-border-color);
			border-radius: var(--bs-border-radius);

			&:hover {
				border-color: #80bdff;
			}

			&:focus {
				outline: none;
			}

			.select2-selection__rendered {
				color: var(--bs-body-color);
				line-height: calc(1.5em + .75rem);
			}
		}

		&.select2-container--open,
		&.select2-container--focus {
			.select2-selection--single {
				border-color: #80bdff;
				box-shadow: var(--bs-focus-ring-x, 0) var(--bs-focus-ring-y, 0) var(--bs-focus-ring-blur, 0) var(--bs-focus-ring-width) var(--bs-focus-ring-color);
			}
		}

		&.select2-container--open {
			&.select2-container--below .select2-selection--single {
				border-bottom-left-radius: var(--bs-border-radius);
				border-bottom-right-radius: var(--bs-border-radius);
			}

			&.select2-container--above .select2-selection--single {
				border-top-left-radius: var(--bs-border-radius);
				border-top-right-radius: var(--bs-border-radius);
			}
		}
	}

	.select2.select2-container--default .select2-selection--single .select2-selection__arrow {
		height: 36px;
	}
}

.wpcf7-form-control-wrap {
	.wpcf7-not-valid ~ .select2-container--default {
		.select2-selection--multiple,
		.select2-selection--single {
			border-color: var(--bs-form-invalid-border-color);

			&:hover {
				border-color: #80bdff;
			}
		}

		.select2-selection--single {
			padding-right: 4.125rem;
			background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
			background-position: center right 2.25rem;
			background-repeat: no-repeat;
			background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
		}

		&.select2-container--open,
		&.select2-container--focus {
			.select2-selection--single {
				border-color: var(--bs-form-invalid-border-color);
				box-shadow: var(--bs-focus-ring-x, 0) var(--bs-focus-ring-y, 0) var(--bs-focus-ring-blur, 0) var(--bs-focus-ring-width) rgba(var(--bs-danger-rgb), 0.25);
			}
		}
	}
}
