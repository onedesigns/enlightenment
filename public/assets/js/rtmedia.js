/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/rtmedia.js":
/*!***************************!*\
  !*** ./src/js/rtmedia.js ***!
  \***************************/
/***/ (() => {

eval("(function ($) {\n  var args = enlightenment_rtmedia_args;\n  $(document).ajaxSuccess(function (event, xhr, settings) {\n    if (typeof xhr.responseJSON == 'undefined') {\n      return true;\n    }\n    var response = xhr.responseJSON;\n    if (typeof response.success == 'undefined') {\n      return true;\n    }\n    if (false === response.success) {\n      return true;\n    }\n    var data = new URLSearchParams(settings.data),\n      action = data.get('action');\n    if (typeof action == 'undefined') {\n      return true;\n    }\n    if (action != 'post_update') {\n      return true;\n    }\n    setTimeout(function () {\n      $('#whats-new-form').children('.rtmedia-uploader-div').addClass('d-none');\n    }, 15);\n  });\n  $(document).ajaxSuccess(function (event, xhr, settings) {\n    if (typeof xhr.responseJSON == 'undefined') {\n      return true;\n    }\n    var response = xhr.responseJSON;\n    if (typeof response.error == 'undefined') {\n      return true;\n    }\n    if (false !== response.error) {\n      return true;\n    }\n    var data = new URLSearchParams(settings.data),\n      action = data.get('action');\n    if (typeof action == 'undefined') {\n      return true;\n    }\n    setTimeout(function () {\n      switch (action) {\n        case 'rtmedia_create_album':\n          if (typeof response.album != 'undefined') {\n            var $modal = $('#rtmedia-create-album-modal');\n            $modal.modal('hide');\n            setTimeout(function () {\n              var $alert = $modal.children('.rtmedia-create-album-alert');\n              $alert.prependTo('#rtm-gallery-title-container');\n              $alert.addClass('alert alert-success w-100');\n            }, 15);\n          }\n          break;\n      }\n    }, 15);\n  });\n  $(document).ajaxSuccess(function (event, xhr, settings) {\n    if (typeof xhr.responseJSON == 'undefined') {\n      return true;\n    }\n    var response = xhr.responseJSON;\n    if (typeof response.next == 'undefined') {\n      return true;\n    }\n    var data = new URLSearchParams(settings.url.split('?')[1]),\n      page = data.get('rtmedia_page');\n    if (typeof page == 'undefined') {\n      return true;\n    }\n    setTimeout(function () {\n      $('.bp-user.media .rtmedia-list').addClass('row').addClass('list-unstyled');\n      $('.rtmedia-nodata').addClass('alert').addClass('alert-info');\n      if (typeof response.pagination != 'undefined') {\n        var $pagination = $('.rtm-pagination'),\n          $pageNumber = $pagination.children('.rtm-page-number'),\n          $label = $pageNumber.children('.rtm-label'),\n          $goToNum = $pageNumber.children('.rtm-go-to-num'),\n          $button = $pageNumber.children('.button'),\n          $paginate = $pagination.children('.rtm-paginate'),\n          $pages = $paginate.children(),\n          $icons = $paginate.find('.dashicons');\n        $pageNumber.addClass('d-flex align-items-center ms-auto');\n        $label.addClass('d-none d-sm-block text-nowrap');\n        $goToNum.addClass('form-control text-center mx-1');\n        $button.addClass('btn btn-outline-secondary');\n        $paginate.addClass('order-first pagination');\n        $pages.addClass('page-link');\n        $pages.wrap('<li class=\"page-item\"></li>');\n        $pages.filter('.current').parent().addClass('active').attr('aria-current', 'page');\n        $pages.filter('[data-page=\"' + page + '\"]').parent().addClass('active').attr('aria-current', 'page');\n        $icons.removeClass('dashicons').addClass('fas');\n        $icons.filter('.dashicons-arrow-left-alt2').removeClass('dashicons-arrow-left-alt2').addClass('fa-arrow-left');\n        $icons.filter('.dashicons-arrow-right-alt2').removeClass('dashicons-arrow-right-alt2').addClass('fa-arrow-right');\n        $pagination.removeClass('clearfix').addClass('d-flex align-items-center');\n      }\n    }, 15);\n  });\n  $(document).ajaxSend(function (event, xhr, settings) {\n    if (typeof rtMediaHook == 'undefined') {\n      return true;\n    }\n    if (typeof settings.data == 'undefined') {\n      return true;\n    }\n    var data = new URLSearchParams(settings.data);\n    if ('true' !== data.get('rtajax')) {\n      return true;\n    }\n    if ('1' == data.get('comment')) {\n      $('#comment_content').prop('disabled', true);\n    }\n  });\n  $(document).ajaxSuccess(function (event, xhr, settings) {\n    if (typeof xhr.responseJSON == 'undefined') {\n      return true;\n    }\n    var response = xhr.responseJSON;\n    if (typeof response.success == 'undefined') {\n      return true;\n    }\n    if (false === response.success) {\n      return true;\n    }\n    var data = new URLSearchParams(settings.data),\n      action = data.get('action');\n    if (typeof action == 'undefined') {\n      return true;\n    }\n    setTimeout(function () {\n      switch (action) {\n        case 'activity_filter':\n        case 'post_update':\n          setTimeout(function () {\n            var items = 'activity_filter' == action ? response.data.contents : response.data.activity,\n              $html = $($.parseHTML(items)),\n              $items = $html.filter('.activity-item'),\n              ids = [];\n            if (!$items.length) {\n              $items = $html.children('.activity-item');\n            }\n            $items.each(function () {\n              ids.push('#' + this.id);\n            });\n            $items = $(ids.join(', '));\n            if (typeof $.fn.select2 != 'undefined') {\n              var $select = $items.find('.rtm-activity-privacy-opt');\n              $select.select2({\n                minimumResultsForSearch: 33\n              });\n            }\n            if (typeof rtmedia_comment_media_upload != 'undefined') {\n              var enlightement_rtmedia_comment_media_upload = function enlightement_rtmedia_comment_media_upload() {\n                if (typeof UploadView != 'undefined') {\n                  $items.each(function () {\n                    rtmedia_comment_media_upload(this);\n                  });\n                } else {\n                  setTimeout(enlightement_rtmedia_comment_media_upload, 150);\n                }\n              };\n              $items.find('.d-none[type=\"file\"]').remove();\n              enlightement_rtmedia_comment_media_upload();\n            }\n            if (typeof apply_rtMagnificPopup != 'undefined') {\n              apply_rtMagnificPopup('.rtmedia-activity-container ul.rtmedia-list');\n            }\n          }, 150);\n          break;\n      }\n    }, 15);\n  });\n  $.ajaxPrefilter(function (options, originalOptions, jqXHR) {\n    if (typeof originalOptions.data == 'undefined') {\n      return true;\n    }\n    if (typeof originalOptions.data.action == 'undefined') {\n      return true;\n    }\n    if ('new_activity_comment' != originalOptions.data.action) {\n      return true;\n    }\n    var form_id = 'activity-' + originalOptions.data.form_id,\n      $form = $('.' + comment_media_wrapper + form_id),\n      disabled = '1',\n      temp = $form.find('input[name=\"rtMedia_attached_files[]\"]').val();\n    if (typeof rtmedia_disable_media_in_commented_media != 'undefined') {\n      disabled = rtmedia_disable_media_in_commented_media;\n    }\n    if (typeof temp == 'undefined') {\n      temp = 0;\n    }\n    if (typeof temp == '') {\n      temp = 0;\n    }\n    if (disabled == '1') {\n      if (originalOptions.data.form_id != originalOptions.data.comment_id && temp > 0) {\n        setTimeout(function () {\n          $form.children('.bp-ajax-message').addClass('alert alert-danger mt-3 mb-0').children('p').addClass('mb-0');\n        }, 15);\n      }\n    }\n  });\n  $(document).ready(function () {\n    var $document = $(document),\n      $rtMediaUpl = $('#rtmedia-upload-container'),\n      $ac_input = $('#comment_content'),\n      geminiSB;\n    $('.rt-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n    if ($rtMediaUpl.length) {\n      var container = $('#rtmedia-upload-container'),\n        drop_element = $('#drag-drop-area'),\n        browse_button = $('#rtMedia-upload-button');\n      if (drop_element.hasClass('drag-drop')) {\n        $document.on('dragover', function () {\n          drop_element.removeClass('bg-body-secondary');\n          drop_element.addClass('bg-primary');\n          drop_element.addClass('text-light');\n          browse_button.removeClass('btn-primary');\n          browse_button.addClass('btn-light');\n        }).on('drop dragleave', function () {\n          drop_element.removeClass('bg-primary');\n          drop_element.removeClass('text-light');\n          drop_element.addClass('bg-body-secondary');\n          browse_button.removeClass('btn-light');\n          browse_button.addClass('btn-primary');\n        });\n      }\n    }\n    if (typeof uploaderObj != 'undefined') {\n      uploaderObj.uploader.bind('FilesAdded', function (up, files) {\n        setTimeout(function () {\n          $.each(files, function (index, file) {\n            var $container = $(document.getElementById(file.id)),\n              type = file.type,\n              title = file.name,\n              ext = title.substring(title.lastIndexOf('.') + 1, title.length);\n            if (/image/i.test(type)) {\n              if (ext !== 'gif' && typeof mOxie != 'undefined') {\n                var $thumb = $('#file_thumb_' + file.id),\n                  img = new mOxie.Image();\n                img.onload = function () {\n                  $thumb.html('');\n                  this.embed($thumb.get(0), {\n                    width: 220,\n                    height: 220,\n                    crop: true\n                  });\n                };\n                img.onembedded = function () {\n                  this.destroy();\n                };\n                img.onerror = function () {\n                  this.destroy();\n                };\n                img.load(file.getSource());\n              }\n            }\n            $container.find('.plupload_file_status').addClass('progress');\n            $container.find('.plupload_file_progress').addClass('progress-bar progress-bar-striped progress-bar-animated');\n            var $editBtn = $container.find('.dashicons-edit');\n            $container.find('.plupload_file_name_wrapper').addClass('d-none');\n            $editBtn.removeClass('dashicons dashicons-edit').addClass('far fa-edit');\n            $editBtn.on('click', function () {\n              var $this = $(this),\n                $parent = $this.parent();\n              setTimeout(function () {\n                var $title = $parent.children('.rtm-upload-edit-title-wrapper'),\n                  $desc = $parent.children('.rtm-upload-edit-desc-wrapper'),\n                  $save = $parent.children('.dashicons-yes'),\n                  $modal = $(document.createElement('div')),\n                  $dialog = $(document.createElement('div')),\n                  $content = $(document.createElement('div')),\n                  $header = $(document.createElement('div')),\n                  $close = $(document.createElement('button')),\n                  $icon = $(document.createElement('span')),\n                  $body = $(document.createElement('div')),\n                  $footer = $(document.createElement('div'));\n                $header.addClass('modal-header');\n                $header.appendTo($content);\n                $body.addClass('modal-body');\n                $body.appendTo($content);\n                $footer.addClass('modal-footer');\n                $footer.appendTo($content);\n                $content.addClass('modal-content');\n                $content.appendTo($dialog);\n                $dialog.addClass('modal-dialog');\n                $dialog.appendTo($modal);\n                $modal.addClass('modal').addClass('fade');\n                $modal.appendTo($('body'));\n                $modal.modal({\n                  show: false\n                });\n                $modal.on('hidden.bs.modal', function () {\n                  $modal.remove();\n                  $this.css('display', '');\n                });\n                $close.addClass('btn-close');\n                $close.attr('aria-label', args.close_label);\n                $close.on('click', function () {\n                  $modal.modal('hide');\n                });\n                $close.appendTo($header);\n                $title.addClass('mb-3');\n                $title.find('label').addClass('form-label');\n                $title.find('.rtm-upload-edit-title').addClass('form-control w-100');\n                $title.appendTo($body);\n                $desc.find('label').addClass('form-label');\n                $desc.find('.rtm-upload-edit-desc').addClass('form-control');\n                $desc.appendTo($body);\n                $save.removeClass('dashicons').removeClass('dashicons-yes');\n                $save.addClass('btn btn-primary');\n                $save.text($save.attr('title'));\n                $save.on('click', function () {\n                  $modal.modal('hide');\n                });\n                $save.appendTo($footer);\n                $modal.modal('show');\n              }, 15);\n            });\n            $container.find('.dashicons-dismiss').removeClass('dashicons dashicons-dismiss').addClass('fas fa-times fa-fw');\n            $container.addClass('col-2');\n          });\n        }, 15);\n      });\n      uploaderObj.uploader.bind('FileUploaded', function (up, file) {\n        setTimeout(function () {\n          $(document.getElementById(file.id)).find('.rtmedia-delete-uploaded-media').removeClass('dashicons dashicons-dismiss').addClass('fas fa-times fa-fw');\n        }, 15);\n      });\n    }\n    if (typeof objUploadView != 'undefined') {\n      objUploadView.uploader.bind('Init', function (up, file) {\n        setTimeout(function () {\n          $('#rtmedia_uploader_filelist').appendTo('#whats-new-form');\n        }, 15);\n      });\n      objUploadView.uploader.bind('FilesAdded', function (up, files) {\n        setTimeout(function () {\n          $.each(files, function (index, file) {\n            var $container = $(document.getElementById(file.id)),\n              type = file.type,\n              title = file.name,\n              ext = title.substring(title.lastIndexOf('.') + 1, title.length);\n            if (/image/i.test(type)) {\n              if (ext !== 'gif' && typeof mOxie != 'undefined') {\n                var $thumb = $('#file_thumb_' + file.id),\n                  img = new mOxie.Image();\n                img.onload = function () {\n                  $thumb.html('');\n                  this.embed($thumb.get(0), {\n                    width: 220,\n                    height: 220,\n                    crop: true\n                  });\n                };\n                img.onembedded = function () {\n                  this.destroy();\n                };\n                img.onerror = function () {\n                  this.destroy();\n                };\n                img.load(file.getSource());\n              }\n            }\n            $container.find('.plupload_file_status').addClass('progress');\n            $container.find('.plupload_file_progress').addClass('progress-bar progress-bar-striped progress-bar-animated');\n            var $editBtn = $container.find('.dashicons-edit');\n            $container.find('.plupload_file_name_wrapper').addClass('d-none');\n            $editBtn.removeClass('dashicons dashicons-edit').addClass('far fa-edit');\n            $editBtn.on('click', function () {\n              var $this = $(this),\n                $parent = $this.parent();\n              setTimeout(function () {\n                var $title = $parent.children('.rtm-upload-edit-title-wrapper'),\n                  $desc = $parent.children('.rtm-upload-edit-desc-wrapper'),\n                  $save = $parent.children('.dashicons-yes'),\n                  $modal = $(document.createElement('div')),\n                  $dialog = $(document.createElement('div')),\n                  $content = $(document.createElement('div')),\n                  $header = $(document.createElement('div')),\n                  $close = $(document.createElement('button')),\n                  $icon = $(document.createElement('span')),\n                  $body = $(document.createElement('div')),\n                  $footer = $(document.createElement('div'));\n                $header.addClass('modal-header');\n                $header.appendTo($content);\n                $body.addClass('modal-body');\n                $body.appendTo($content);\n                $footer.addClass('modal-footer');\n                $footer.appendTo($content);\n                $content.addClass('modal-content');\n                $content.appendTo($dialog);\n                $dialog.addClass('modal-dialog');\n                $dialog.appendTo($modal);\n                $modal.addClass('modal').addClass('fade');\n                $modal.appendTo($('body'));\n                $modal.modal({\n                  show: false\n                });\n                $modal.on('hidden.bs.modal', function () {\n                  $modal.remove();\n                  $this.css('display', '');\n                });\n                $close.addClass('btn-close');\n                $close.attr('aria-label', args.close_label);\n                $close.on('click', function () {\n                  $modal.modal('hide');\n                });\n                $close.appendTo($header);\n                $title.addClass('mb-3');\n                $title.find('label').addClass('form-label');\n                $title.find('.rtm-upload-edit-title').addClass('form-control w-100');\n                $title.appendTo($body);\n                $desc.find('label').addClass('form-label');\n                $desc.find('.rtm-upload-edit-desc').addClass('form-control');\n                $desc.appendTo($body);\n                $save.removeClass('dashicons').removeClass('dashicons-yes');\n                $save.addClass('btn btn-primary');\n                $save.text($save.attr('title'));\n                $save.on('click', function () {\n                  $modal.modal('hide');\n                });\n                $save.appendTo($footer);\n                $modal.modal('show');\n              }, 15);\n            });\n            $container.find('.dashicons-dismiss').removeClass('dashicons dashicons-dismiss').addClass('fas fa-times fa-fw');\n            $container.addClass('col-3');\n          });\n        }, 15);\n      });\n      objUploadView.uploader.bind('FileUploaded', function (up, file) {\n        setTimeout(function () {\n          $(document.getElementById(file.id)).find('.rtmedia-delete-uploaded-media').removeClass('dashicons dashicons-dismiss').addClass('fas fa-times fa-fw');\n        }, 15);\n      });\n    }\n    if ($ac_input.length) {\n      $ac_input.on('input', function () {\n        var $this = $(this);\n        if (this.clientHeight < this.scrollHeight) {\n          $this.css('height', this.scrollHeight);\n        } else {\n          while (this.clientHeight >= this.scrollHeight) {\n            $this.css('height', this.clientHeight - 22);\n          }\n          if (this.scrollHeight > 40) {\n            $this.css('height', this.scrollHeight);\n          } else {\n            $this.css('height', '');\n          }\n        }\n      });\n      $ac_input.on('keydown', function (event) {\n        if (event.keyCode === 13 && !event.altKey && !event.ctrlKey && !event.shiftKey) {\n          event.preventDefault();\n          $('#rt_media_comment_submit').click();\n        }\n      });\n    }\n    if (typeof rtMediaHook != 'undefined') {\n      var enlightenment_rtmedia_js_popup_toggle_controls = function enlightenment_rtmedia_js_popup_toggle_controls(event) {\n        var $target = $(event.target),\n          $this = $('.mfp-content.modal-content'),\n          $meta = $this.find('.rtmedia-single-meta');\n        if ($target.closest('#mobile-swipe-overlay').length) {\n          return true;\n        }\n        if (\n        // $meta.hasClass( 'comments-visible' ) &&\n        $this.hasClass('comments-visible') && !$target.hasClass('rtm-comments-link') && !$target.closest('.rtmedia-comments-container').length && !$target.closest('.rtm-media-single-comments').length) {\n          if ($target.closest('.close').length || $target.closest('.mfp-arrow').length) {\n            event.preventDefault();\n            event.stopPropagation();\n          }\n\n          // $meta.removeClass( 'comments-visible' );\n          $this.removeClass('comments-visible');\n          return true;\n        }\n        if ($target.closest('.close').length || $target.closest('.mfp-arrow').length || $target.closest('.rtmedia-single-meta').length || $target.closest('.rtm-ltb-action-container').length) {\n          return true;\n        }\n        $this.toggleClass('controls-hidden');\n      };\n      rtMediaHook.register('rtmedia_js_after_comment_added', function () {\n        var instance = $.magnificPopup.instance,\n          $meta = instance.contentContainer.find('.rtmedia-single-meta'),\n          $scroll = $meta.find('.rtmedia-scroll'),\n          $comments_c = $scroll.find('.rtmedia-comments-container'),\n          $comments_l = $scroll.find('#rtmedia_comment_ul'),\n          $comm_link = $scroll.find('.rtm-comments-link'),\n          $comm_title = $scroll.find('.rtmedia-comments-title'),\n          $ac_input = $scroll.find('#comment_content'),\n          $tooltips = $scroll.find('.rt-tooltip[data-bs-toggle=\"tooltip\"]'),\n          count,\n          label;\n        if ($scroll.hasClass('gm-scrollbar-container')) {\n          $scroll = $scroll.find('.gm-scroll-view');\n        }\n        $ac_input.prop('disabled', false).css('height', '').focus();\n        $tooltips.tooltip();\n        $comments_c.css('bottom', '');\n        $comments_l.css('max-height', '');\n        $scroll.css('min-height', '');\n        $scroll.css('max-height', '');\n        count = $comments_l.children('.rtmedia-comment').length;\n        switch (count) {\n          case 0:\n            label = args.rtm_comments_link_label.zero;\n            break;\n          case 1:\n            label = args.rtm_comments_link_label.one;\n            break;\n          default:\n            label = args.rtm_comments_link_label.more;\n            label = label.replace('%s', count);\n            break;\n        }\n        $comm_link.text(label);\n        $comm_title.text(label);\n        setTimeout(function () {\n          if (!geminiSB || !geminiSB._created) {\n            return;\n          }\n          geminiSB.update();\n        }, 0);\n        if (Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0) >= 992 && $scroll.prop('clientHeight') < $scroll.prop('scrollHeight')) {\n          $meta.addClass('has-comment-form-affixed-to-bottom');\n        }\n        return true;\n      });\n      rtMediaHook.register('rtmedia_js_after_comment_deleted', function () {\n        var $comments_l = $('#rtmedia_comment_ul'),\n          $comm_link = $('.rtm-comments-link'),\n          $comm_title = $('.rtmedia-comments-title'),\n          $tooltips = $('.tooltip'),\n          count,\n          label;\n        $tooltips.remove();\n        count = $comments_l.children('.rtmedia-comment').length - 1;\n        switch (count) {\n          case 0:\n            label = args.rtm_comments_link_label.zero;\n            break;\n          case 1:\n            label = args.rtm_comments_link_label.one;\n            break;\n          default:\n            label = args.rtm_comments_link_label.more;\n            label = label.replace('%s', count);\n            break;\n        }\n        $comm_link.text(label);\n        $comm_title.text(label);\n      });\n      rtMediaHook.register('rtmedia_js_after_files_added', function (params) {\n        var files = params[1];\n        setTimeout(function () {\n          $.each(files, function (index, file) {\n            var type = file.type,\n              title = file.name,\n              ext = title.substring(title.lastIndexOf('.') + 1, title.length),\n              $container = $(document.getElementById(file.id)),\n              $remove = $container.find('.remove-from-queue');\n            if (/image/i.test(type)) {\n              if (ext !== 'gif' && typeof mOxie != 'undefined') {\n                var $thumb = $('#file_thumb_' + file.id),\n                  img = new mOxie.Image();\n                img.onload = function () {\n                  $thumb.html('');\n                  this.embed($thumb.get(0), {\n                    width: 240,\n                    height: 180,\n                    crop: true\n                  });\n                };\n                img.onembedded = function () {\n                  this.destroy();\n                  $('#comment_content').trigger('input');\n                };\n                img.onerror = function () {\n                  this.destroy();\n                };\n                img.load(file.getSource());\n              }\n            }\n            $container.find('.plupload_file_status').addClass('progress');\n            $container.find('.plupload_file_progress').addClass('progress-bar progress-bar-striped progress-bar-animated');\n            var $editBtn = $container.find('.dashicons-edit');\n            $container.find('.plupload_file_name_wrapper').addClass('d-none');\n            $editBtn.removeClass('dashicons dashicons-edit').addClass('far fa-edit');\n            $editBtn.on('click', function () {\n              var $this = $(this),\n                $parent = $this.parent();\n              setTimeout(function () {\n                var $title = $parent.children('.rtm-upload-edit-title-wrapper'),\n                  $desc = $parent.children('.rtm-upload-edit-desc-wrapper'),\n                  $save = $parent.children('.dashicons-yes'),\n                  $modal = $(document.createElement('div')),\n                  $dialog = $(document.createElement('div')),\n                  $content = $(document.createElement('div')),\n                  $header = $(document.createElement('div')),\n                  $close = $(document.createElement('button')),\n                  $icon = $(document.createElement('span')),\n                  $body = $(document.createElement('div')),\n                  $footer = $(document.createElement('div'));\n                $header.addClass('modal-header');\n                $header.appendTo($content);\n                $body.addClass('modal-body');\n                $body.appendTo($content);\n                $footer.addClass('modal-footer');\n                $footer.appendTo($content);\n                $content.addClass('modal-content');\n                $content.appendTo($dialog);\n                $dialog.addClass('modal-dialog');\n                $dialog.appendTo($modal);\n                $modal.addClass('modal').addClass('fade');\n                $modal.appendTo($('body'));\n                $modal.modal({\n                  show: false\n                });\n                $modal.on('hidden.bs.modal', function () {\n                  $modal.remove();\n                  $this.css('display', '');\n                });\n                $close.addClass('btn-close');\n                $close.attr('aria-label', args.close_label);\n                $close.on('click', function () {\n                  $modal.modal('hide');\n                });\n                $close.appendTo($header);\n                $title.addClass('mb-3');\n                $title.find('label').addClass('form-label');\n                $title.find('.rtm-upload-edit-title').addClass('form-control w-100');\n                $title.appendTo($body);\n                $desc.find('label').addClass('form-label');\n                $desc.find('.rtm-upload-edit-desc').addClass('form-control');\n                $desc.appendTo($body);\n                $save.removeClass('dashicons').removeClass('dashicons-yes');\n                $save.addClass('btn btn-primary');\n                $save.text($save.attr('title'));\n                $save.on('click', function () {\n                  $modal.modal('hide');\n                });\n                $save.appendTo($footer);\n                $modal.modal('show');\n              }, 15);\n            });\n            $remove.removeClass('dashicons dashicons-dismiss').addClass('fas fa-times fa-fw');\n            $remove.on('click', function () {\n              setTimeout(function () {\n                $('#comment_content').trigger('input');\n              }, 15);\n            });\n            $container.addClass('js-done');\n          });\n        }, 15);\n        return true;\n      });\n      rtMediaHook.register('rtmedia_js_popup_after_content_added', function () {\n        var instance = $.magnificPopup.instance,\n          $overlay = $(instance.bgOverlay.get(0)),\n          $modal = $(instance.wrap.get(0)),\n          $media = instance.contentContainer.find('.carousel-inner'),\n          $image = $media.children('img'),\n          $meta = instance.contentContainer.find('.rtmedia-single-meta'),\n          $scroll = $meta.children('.rtmedia-scroll'),\n          scroll = $scroll.get(0),\n          $ac_form = $scroll.children('.rtm-media-single-comments'),\n          $allcontent = $scroll.find('.allcontent'),\n          $comments_c = $scroll.find('.rtmedia-comments-container'),\n          $show_all_c = $('#rtmedia_show_all_comment'),\n          $comments_l = $('#rtmedia_comment_ul'),\n          $ac_input = $scroll.find('.ac-input'),\n          $filelist = $scroll.find('.plupload_filelist_content'),\n          vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n        instance.bgOverlay.addClass('d-none');\n        instance.wrap.addClass('modal'); // fade');\n        instance.container.addClass('modal-dialog').css('max-width', 1140);\n        instance.contentContainer.addClass('modal-content');\n        instance.preloader.addClass('d-none');\n        geminiSB = new GeminiScrollbar({\n          element: scroll,\n          autoshow: true\n          // forceGemini: true,\n        });\n        setTimeout(function () {\n          if (vw < 992) {\n            return;\n          }\n          geminiSB.create();\n          if (geminiSB._created) {\n            scroll = geminiSB._viewElement;\n          }\n        }, 0);\n        window.addEventListener('resize', function () {\n          var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n          if (vw < 992 && geminiSB._created) {\n            geminiSB.destroy();\n            scroll = $scroll.get(0);\n          } else if (vw >= 992 && !geminiSB._created) {\n            geminiSB.create();\n            if (geminiSB._created) {\n              scroll = geminiSB._viewElement;\n            }\n          }\n        });\n        $show_all_c.on('click', function () {\n          $comments_l.find('.rtmedia-comment').prop('hidden', false);\n          if (Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0) >= 992 && scroll.clientHeight < scroll.scrollHeight) {\n            $meta.addClass('has-comment-form-affixed-to-bottom');\n          }\n          setTimeout(function () {\n            if (!geminiSB._created) {\n              return;\n            }\n            geminiSB.update();\n          }, 0);\n        });\n        $(instance.wrap.get(0)).modal({\n          show: false\n        }).on('shown.bs.modal', function () {\n          var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n          if (vw < 992) {\n            return true;\n          }\n          var $meta = instance.contentContainer.find('.rtmedia-single-meta'),\n            $scroll = $meta.find('.rtm-media-single-comments');\n          if (!$ac_form.length) {\n            return true;\n          }\n\n          // Race with arrow navigation code below\n          if ($meta.hasClass('has-comment-form-affixed-to-bottom')) {\n            return true;\n          }\n          if (scroll.clientHeight < scroll.scrollHeight) {\n            $meta.addClass('has-comment-form-affixed-to-bottom');\n          }\n        }).on('hidden.bs.modal', function () {\n          instance.close();\n        });\n        ;\n        instance.contentContainer.off('click', enlightenment_rtmedia_js_popup_toggle_controls);\n        instance.contentContainer.on('click', enlightenment_rtmedia_js_popup_toggle_controls);\n        if ($allcontent.length && !$scroll.find('.rtm-like-comments-wrap').length && $scroll.find('.rtmedia-like-info').hasClass('hide')) {\n          $allcontent.css('max-height', 'calc(100vh - 9.625rem)');\n        }\n        $scroll.find('.rtm-comments-link').on('click', function (event) {\n          var $meta = $(this).closest('.rtmedia-single-meta'),\n            $ac_input = $meta.find('.ac-input');\n\n          // $meta.addClass('comments-visible');\n          instance.contentContainer.addClass('comments-visible');\n          $ac_input.focus();\n        });\n        $scroll.find('.rtmedia-comments-close').on('click', function (event) {\n          // $(this).closest('.rtmedia-single-meta').removeClass('comments-visible');\n          instance.contentContainer.removeClass('comments-visible');\n        });\n        $modal.modal('show');\n        $media.swipe({\n          swipeLeft: function swipeLeft(event, direction, distance, duration, fingerCount) {\n            instance.next();\n          },\n          swipeRight: function swipeRight(event, direction, distance, duration, fingerCount) {\n            instance.prev();\n          },\n          swipeStatus: function swipeStatus(event, phase, direction, distance) {\n            return true;\n            /*switch ( phase ) {\n                case 'move':\n                    switch ( direction ) {\n                        case 'left':\n                            $image.css('transform', 'translate3d(-' + distance + 'px, 0, 0)');\n                            break;\n                         case 'right':\n                            $image.css('transform', 'translate3d(' + distance + 'px, 0, 0)');\n                            break;\n                         case 'up':\n                            $modal.css('top', 'translate3d(0, -' + distance + 'px, 0)');\n                            if ( distance < 200 ) {\n                                $modal.css('transition', 'transform .25s ease');\n                                $modal.css('transform', '');\n                                setTimeout(function() {\n                                    $modal.css('transition', '');\n                                }, 250);\n                            }\n                            break;\n                         case 'down':\n                            $modal.css('top', distance + 'px');\n                            if ( distance >= 200 ) {\n                                $modal.css('transition', 'transform .25s ease');\n                                $modal.css('transform', 'scale(.8)');\n                                setTimeout(function() {\n                                    $modal.css('transition', '');\n                                }, 250);\n                            }\n                            break;\n                    }\n                    break;\n                 case 'end':\n                    switch ( direction ) {\n                        case 'left':\n                            $image.css('transition', 'transform .25s ease');\n                            $image.css('transform', '');\n                            setTimeout(function() {\n                                $image.css('transition', '');\n                            }, 250);\n                            break;\n                         case 'right':\n                            $image.css('transition', 'transform .25s ease');\n                            $image.css('transform', '');\n                            setTimeout(function() {\n                                $image.css('transition', '');\n                            }, 250);\n                            break;\n                         case 'up':\n                            $modal.css('transition', 'transform .25s ease');\n                            $modal.css('transform', '');\n                            setTimeout(function() {\n                                $modal.css('transition', '');\n                            }, 250);\n                            break;\n                         case 'down':\n                            // $modal.css('transition', 'transform .25s ease');\n                            $modal.css('transition', 'top .25s ease, transform .25s ease');\n                            $modal.css('transform', '');\n                            $modal.css('top', '');\n                            setTimeout(function() {\n                                $modal.css('transition', '');\n                            }, 250);\n                            break;\n                    }\n                    break;\n            }*/\n          },\n          tap: enlightenment_rtmedia_js_popup_toggle_controls,\n          threshold: 0\n          // threshold: 200,\n          // triggerOnTouchEnd: true,\n        });\n        if (vw >= 992) {\n          $media.swipe('disable');\n        }\n        window.addEventListener('resize', function () {\n          var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n          if (vw < 992) {\n            $media.swipe('enable');\n          } else {\n            $media.swipe('disable');\n          }\n        });\n\n        // When modal is already open and nav arrows have been clicked\n        if (vw >= 992 && $ac_form.length && scroll.clientHeight < scroll.scrollHeight) {\n          $meta.addClass('has-comment-form-affixed-to-bottom');\n        }\n        var ticking = false;\n        function affixACFormToBottomOnWindowResize() {\n          if (ticking) {\n            return true;\n          }\n          requestAnimationFrame(affixACFormToBottom);\n          ticking = true;\n        }\n        window.addEventListener('resize', affixACFormToBottomOnWindowResize);\n        function affixACFormToBottom() {\n          var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n          if (vw < 992) {\n            $meta.removeClass('has-comment-form-affixed-to-bottom');\n          } else if ($ac_form.length && scroll.clientHeight < scroll.scrollHeight) {\n            $meta.addClass('has-comment-form-affixed-to-bottom');\n          }\n          ticking = false;\n        }\n        $('.rt-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n        $ac_input.on('input', function () {\n          var $this = $(this),\n            vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n          if (this.clientHeight < this.scrollHeight) {\n            var height = this.scrollHeight < 164 ? this.scrollHeight : 164;\n            $this.css('height', height);\n            if (this.scrollHeight >= 164) {\n              $this.css('overflow', 'visible');\n            } else {\n              $this.css('overflow', '');\n            }\n            if (vw < 992) {\n              if (this.scrollHeight > 40 || $filelist.prop('clientHeight')) {\n                var offset = height + $filelist.prop('clientHeight');\n                $comments_c.css('bottom', 'calc(1.5rem + ' + (offset - 40 + 15) + 'px)');\n                $comments_l.css('max-height', 'calc(100vh - 11.375rem - ' + (offset - 40 + 30) + 'px)');\n              }\n            } else {\n              if ($meta.hasClass('has-comment-form-affixed-to-bottom')) {\n                if (this.scrollHeight > 40 || $filelist.prop('clientHeight')) {\n                  var _offset = height + $filelist.prop('clientHeight');\n                  scroll.style.minHeight = 'calc(100vh - 5.5rem - ' + _offset + 'px)';\n                  scroll.style.maxHeight = 'calc(100vh - 5.5rem - ' + _offset + 'px)';\n                }\n              } else {\n                if ($ac_form.length && scroll.clientHeight < scroll.scrollHeight - this.scrollHeight) {\n                  $meta.addClass('has-comment-form-affixed-to-bottom');\n                  if (this.scrollHeight > 40 || $filelist.prop('clientHeight')) {\n                    var _offset2 = height + $filelist.prop('clientHeight');\n                    scroll.style.minHeight = 'calc(100vh - 5.5rem - ' + _offset2 + 'px)';\n                    scroll.style.maxHeight = 'calc(100vh - 5.5rem - ' + _offset2 + 'px)';\n                  }\n                }\n              }\n            }\n          } else {\n            while (this.clientHeight >= this.scrollHeight) {\n              $this.css('height', this.clientHeight - 22);\n            }\n            if (this.scrollHeight > 40) {\n              $this.css('height', this.scrollHeight);\n            } else {\n              $this.css('height', '');\n            }\n            if (vw < 992) {\n              $comments_c.css('bottom', '');\n              $comments_l.css('max-height', '');\n            } else {\n              if ($ac_form.length && scroll.clientHeight < scroll.scrollHeight - this.scrollHeight) {\n                $meta.addClass('has-comment-form-affixed-to-bottom');\n                if (this.scrollHeight > 40 || $filelist.prop('clientHeight')) {\n                  var _height = this.scrollHeight + $filelist.prop('clientHeight');\n                  scroll.style.minHeight = 'calc(100vh - 5.5rem - ' + _height + 'px)';\n                  scroll.style.maxHeight = 'calc(100vh - 5.5rem - ' + _height + 'px)';\n                } else {\n                  scroll.style.minHeight = '';\n                  scroll.style.maxHeight = '';\n                }\n              }\n            }\n          }\n        });\n        $ac_input.on('keydown', function (event) {\n          if (event.keyCode === 13 && !event.altKey && !event.ctrlKey && !event.shiftKey) {\n            event.preventDefault();\n            $('#rt_media_comment_submit').click();\n          }\n        });\n        rtMagnificPopup.on('mfpBeforeClose', function () {\n          setTimeout(function () {\n            $($.magnificPopup.instance.wrap.get(0)).modal('hide').modal('dispose');\n            $('.modal-backdrop').remove();\n            $('body').removeClass('modal-open');\n            $('html').css('overflow', '');\n          }, 15);\n        });\n        return true;\n      });\n      rtMediaHook.register('rtmedia_js_upload_file', function () {\n        setTimeout(function () {\n          $('.rt_alert_msg').attr('style', '').addClass('alert alert-danger');\n        }, 15);\n        return true;\n      });\n      rtMediaHook.register('rtmedia_js_before_activity_added', function () {\n        setTimeout(function () {\n          $('.rt_alert_msg').attr('style', '').addClass('alert alert-danger');\n        }, 15);\n        return true;\n      });\n      $('#rtmedia_upload_terms_conditions').on('change', function () {\n        $('.rt_alert_msg').attr('style', '').addClass('alert alert-danger d-block mt-2 mb-0');\n        return true;\n      });\n    }\n  });\n})(jQuery);\n\n//# sourceURL=webpack://enlightenment/./src/js/rtmedia.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/rtmedia.js"]();
/******/ 	
/******/ })()
;