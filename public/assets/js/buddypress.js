/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/buddypress.js":
/*!******************************!*\
  !*** ./src/js/buddypress.js ***!
  \******************************/
/***/ (() => {

eval("(function ($) {\n  var args = enlightenment_buddypress_args;\n  if (typeof GeminiScrollbar != 'undefined') {\n    window.addEventListener('load', function () {\n      var subnav = document.querySelector('.bp-subnavs');\n      if (subnav != null) {\n        new GeminiScrollbar({\n          element: subnav,\n          autoshow: true\n        }).create();\n      }\n      var dropdowns = document.querySelectorAll('.bp-notifications .dropdown');\n      dropdowns.forEach(function (dropdown) {\n        var element = dropdown.querySelector('.notifications-list');\n        if (element != null) {\n          var geminiSB;\n          dropdown.addEventListener('shown.bs.dropdown', function () {\n            if (typeof geminiSB != 'undefined' && geminiSB._created) {\n              return true;\n            }\n            element.style.height = '';\n            element.style.height = element.offsetHeight + 'px';\n            if (typeof geminiSB == 'undefined') {\n              geminiSB = new GeminiScrollbar({\n                element: element,\n                autoshow: true\n              });\n            }\n            geminiSB.create();\n          });\n          dropdown.addEventListener('hidden.bs.dropdown', function () {\n            if (typeof geminiSB == 'undefined' || !geminiSB._created) {\n              return true;\n            }\n            geminiSB.destroy();\n            element.style.height = '';\n          });\n        }\n      });\n    });\n  }\n  $(document).ready(function () {\n    var $headerLogin = $('#header-account-login'),\n      $primaryNav = $('.component-navigation'),\n      $secondaryNav = $('.secondary-navigation.bp-navs'),\n      $coverImage = $('#header-cover-image');\n    $userHandle = $('.bp-user .user-nicename'), $formWrap = $('#bp-nouveau-activity-form'), $aStream = $('#buddypress [data-bp-list=\"activity\"]'), $list = $('#buddypress [data-bp-list]'), $settings = $('#your-profile'), $invitesNav = $('.bp-invites-nav'), $groupDesc = $('.sidebar-bp-group .group-description'), $rolesFilter = $('#group-roles-filter'), $gmListTable = $('#group-members-list-table'), $signUpForm = $('#signup-form'), $siteNotice = $('#message'), $rtMediaUpl = $('#rtmedia-upload-container'), $memberBlocks = $('.bp-block-member'), $membersBlocks = $('.bp-block-members'), $groupBlocks = $('.bp-block-group'), $groupsBlocks = $('.bp-block-groups');\n    $headerLogin.on('shown.bs.dropdown', function () {\n      $('#user_login').focus();\n    });\n    if ($primaryNav.length) {\n      var $items = $primaryNav.children('.nav-item'),\n        $active = $items.filter('.selected'),\n        $links = $items.children('.nav-link');\n      if ($active.length) {\n        $active.children('.nav-link').addClass('active');\n        $links.on('click', function () {\n          var $this = $(this),\n            $link = $active.children('.nav-link'),\n            $parent = $this.parent();\n          $link.removeClass('active');\n          $this.addClass('active');\n          $active = $parent;\n        });\n      } else {\n        var onPrimaryNavReady = function onPrimaryNavReady() {\n          setTimeout(function () {\n            $active = $items.filter('.selected');\n            if ($active.length) {\n              $active.children('.nav-link').addClass('active');\n              $links.on('click', function () {\n                var $this = $(this),\n                  $link = $active.children('.nav-link'),\n                  $parent = $this.parent();\n                $link.removeClass('active');\n                $this.addClass('active');\n                $active = $parent;\n              });\n            } else {\n              onPrimaryNavReady();\n            }\n          }, 150);\n        };\n        onPrimaryNavReady();\n      }\n    }\n    if ($secondaryNav.length) {\n      if ($secondaryNav.prop('clientHeight') < $secondaryNav.prop('scrollHeight')) {\n        var $menu = $secondaryNav.children('.nav');\n        if (!$('#bp-more-links').length) {\n          $menu.append('<li id=\"bp-more-links\" class=\"nav-item dropdown\"><a class=\"nav-link dropdown-toggle\" data-bs-toggle=\"dropdown\" href=\"#bp-more-links\">More</a><ul class=\"dropdown-menu dropdown-menu-end\"></ul></li>');\n        }\n        $($menu.children().not('#bp-more-links').get().reverse()).each(function () {\n          if ($secondaryNav.prop('clientHeight') < $secondaryNav.prop('scrollHeight')) {\n            $(this).prependTo('#bp-more-links > .dropdown-menu');\n          }\n        });\n        $('#bp-more-links .dropdown-menu .nav-item').each(function () {\n          $(this).removeClass('nav-item');\n          $(this).addClass('dropdown-submenu');\n        });\n        $('#bp-more-links .dropdown-menu .nav-link').each(function () {\n          $(this).removeClass('nav-link');\n          $(this).addClass('dropdown-item');\n        });\n        $('#bp-more-links .dropdown-menu .dropdown').each(function () {\n          $(this).removeClass('dropdown');\n          $(this).addClass('dropdown-submenu');\n        });\n      }\n      $secondaryNav.css('overflow', 'visible');\n    }\n    if ($userHandle.length) {\n      var userHandleResizeOnWindowResize = function userHandleResizeOnWindowResize() {\n        if (!ticking) {\n          requestAnimationFrame(userHandleResize);\n        }\n        ticking = true;\n      };\n      var userHandleResize = function userHandleResize() {\n        if ($coverImage.length && !$userHandle.is(':last-child')) {\n          var _$next = $userHandle.next('.member-header-actions');\n          if (_$next.length) {\n            if (window.innerWidth >= 768) {\n              $userHandle.css('max-width', 'calc(100% - ' + _$next.outerWidth(true) + 'px)');\n            } else {\n              $userHandle.css('max-width', '');\n            }\n          }\n        }\n        ticking = false;\n      };\n      if (window.innerWidth >= 768 && $coverImage.length && !$userHandle.is(':last-child')) {\n        var $next = $userHandle.next('.member-header-actions');\n        if ($next.length) {\n          $userHandle.css('max-width', 'calc(100% - ' + $next.outerWidth(true) + 'px');\n        }\n      }\n      var ticking = false;\n      window.addEventListener('resize', userHandleResizeOnWindowResize);\n    }\n    $('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n    if ($formWrap.length) {\n      var onWhatsNewReady = function onWhatsNewReady() {\n        setTimeout(function () {\n          $whatsNew = $('#whats-new');\n          if ($whatsNew.length) {\n            var onWhatsNewFocusIn = function onWhatsNewFocusIn() {\n              $form.addClass('activity-form-expanded');\n              setTimeout(function () {\n                var $options = $('#whats-new-options'),\n                  $submit = $('#whats-new-submit'),\n                  $button = $('#aw-whats-new-submit'),\n                  $select = $options.find('select'),\n                  $spinner = $('#whats-new-spinner'),\n                  $uploader = $form.children('.rtmedia-uploader-div');\n                $submit.addClass('d-flex').addClass('align-items-center');\n                $button.addClass('btn').addClass('btn-primary');\n                if ($select.length && typeof $.fn.select2 != 'undefined') {\n                  $select.select2({\n                    minimumResultsForSearch: 33\n                  });\n                }\n                $options.addClass('visible');\n                if (!$spinner.length) {\n                  var $icon = $(document.createElement('i'));\n                  $spinner = $(document.createElement('div'));\n                  $spinner.attr('id', 'whats-new-spinner');\n                  $spinner.addClass('bp-whats-new-spinner').addClass('d-none').addClass('me-2');\n                  $icon.addClass('fas').addClass('fa-spinner').addClass('fa-pulse');\n                  $icon.appendTo($spinner);\n                  $spinner.prependTo(document.getElementById('whats-new-submit'));\n                }\n                if ($uploader.length) {\n                  $uploader.removeClass('d-none');\n                }\n              }, 15);\n            };\n            var $form = $('#whats-new-form');\n            if ($whatsNew.is(':focus')) {\n              onWhatsNewFocusIn();\n            }\n            $whatsNew.on('focusin', onWhatsNewFocusIn);\n            $whatsNew.on('focusout', function () {\n              if ('' !== $whatsNew.val()) {\n                return true;\n              }\n              if ($form.find(':hover').length) {\n                return true;\n              }\n              var $uploader = $form.children('.rtmedia-uploader-div');\n              if ($uploader.length) {\n                if ($uploader.find('.plupload_filelist_content').children().length) {\n                  return true;\n                }\n                if ($form.children('.plupload_filelist_content').children().length) {\n                  return true;\n                }\n                $uploader.addClass('d-none');\n              }\n              $('#whats-new-options').removeClass('visible');\n              $form.removeClass('activity-form-expanded');\n            });\n          } else {\n            onWhatsNewReady();\n          }\n        }, 150);\n      };\n      var $whatsNew;\n      onWhatsNewReady();\n      $formWrap.find('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n    }\n    var did_bp_ajax_request = false;\n    if ($aStream.length) {\n      var $aList;\n      window.onActivityStreamReady = function () {\n        setTimeout(function () {\n          $aList = $aStream.children('.activity-list');\n          if ($aList.length) {\n            $aList.find('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n            var $ac_input = $aList.find('.ac-input');\n            $ac_input.on('input', function () {\n              var $this = $(this);\n              if (this.clientHeight < this.scrollHeight) {\n                $this.css('height', this.scrollHeight);\n              } else {\n                while (this.clientHeight >= this.scrollHeight) {\n                  $this.css('height', this.clientHeight - 22);\n                }\n                if (this.scrollHeight > 40) {\n                  $this.css('height', this.scrollHeight);\n                } else {\n                  $this.css('height', '');\n                }\n              }\n            });\n            $ac_input.on('keydown', function (event) {\n              if (event.keyCode === 13 && !event.altKey && !event.ctrlKey && !event.shiftKey) {\n                event.preventDefault();\n                $(this).closest('.ac-reply-content').find('input[name=\"ac_form_submit\"]').click();\n              }\n            });\n          } else {\n            onActivityStreamReady();\n          }\n        }, 150);\n      };\n\n      // Race with $list.on('bp_ajax_request', ...\n      if (!did_bp_ajax_request) {\n        onActivityStreamReady();\n      }\n    }\n    if ($invitesNav.length) {\n      var onInvitesNavReady = function onInvitesNavReady() {\n        setTimeout(function () {\n          $subnav = $invitesNav.children('.subnav');\n          if ($subnav.length) {\n            var _$items = $subnav.children('li');\n            $current = _$items.filter('.current').children('.btn'), $buttons = _$items.children('.btn');\n            $buttons.removeClass('btn-secondary').addClass('btn-outline-secondary');\n            $current.removeClass('btn-outline-secondary').addClass('btn-secondary');\n            _$items.addClass('btn-group');\n            $subnav.addClass('list-unstyled').addClass('btn-group').addClass('mb-0');\n            $buttons.on('click', function () {\n              var $this = $(this),\n                $current = $this.closest('.subnav').children('.current').children('.btn');\n              ;\n              $current.removeClass('btn-secondary').addClass('btn-outline-secondary');\n              $this.removeClass('btn-outline-secondary').addClass('btn-secondary');\n            });\n          } else {\n            onInvitesNavReady();\n          }\n        }, 150);\n      };\n      var $subnav;\n      onInvitesNavReady();\n    }\n    if ($groupDesc.length) {\n      var groupDesc = $groupDesc.get(0);\n      if (groupDesc.clientHeight < groupDesc.scrollHeight - 1) {\n        var $toggle = $(document.createElement('div')),\n          _$button = $(document.createElement('button'));\n        _$button.addClass('group-description-more');\n        _$button.text(args.group_description_more);\n        _$button.appendTo($toggle);\n        _$button.on('click', function () {\n          if (_$button.hasClass('group-description-more')) {\n            _$button.removeClass('group-description-more');\n            _$button.addClass('group-description-less');\n            _$button.text(args.group_description_less);\n            $groupDesc.css('max-height', groupDesc.scrollHeight + 24);\n            $groupDesc.addClass('expanded');\n          } else {\n            _$button.removeClass('group-description-less');\n            _$button.addClass('group-description-more');\n            _$button.text(args.group_description_more);\n            $groupDesc.css('max-height', '');\n            $groupDesc.removeClass('expanded');\n          }\n        });\n        $toggle.addClass('group-description-toggle');\n        $toggle.prependTo($groupDesc);\n      }\n    }\n    if ($rolesFilter.length) {\n      var onRolesFilterReady = function onRolesFilterReady() {\n        setTimeout(function () {\n          $filter = $('#group-members-role-filter');\n          if ($filter.length) {\n            $rolesFilter.children('label').addClass('screen-reader-text').addClass('visually-hidden');\n          } else {\n            onRolesFilterReady();\n          }\n        }, 15);\n      };\n      var $filter;\n      onRolesFilterReady();\n    }\n    if ($gmListTable.length) {\n      var onGMListTableReady = function onGMListTableReady() {\n        setTimeout(function () {\n          _$buttons = $gmListTable.find('.btn[data-action=\"edit\"]');\n          _$buttons.addClass('js-added');\n          if (_$buttons.length) {\n            _$buttons.on('click', function () {\n              var $tr = $(this).closest('tr');\n              function onBtnsClick() {\n                var $group = $tr.children('.urole-column').children('.group-member-edit'),\n                  $label = $group.children('label'),\n                  $select = $group.children('select'),\n                  $abort = $tr.children('.uname-column').find('.btn[data-action=\"abort\"]');\n                $label.addClass('form-label');\n                $select.addClass('form-select');\n                $group.addClass('mb-3');\n                if (typeof $.fn.select2 != 'undefined') {\n                  $select.select2({\n                    minimumResultsForSearch: 33\n                  });\n                }\n                $abort.on('click', function () {\n                  var $tr = $(this).closest('tr');\n                  setTimeout(function () {\n                    var $button = $tr.find('.btn[data-action=\"edit\"]');\n                    $button.addClass('js-added');\n                    $button.on('click', function () {\n                      var $tr = $(this).closest('tr');\n                      setTimeout(onBtnsClick, 15);\n                    });\n                  }, 15);\n                });\n              }\n              setTimeout(onBtnsClick, 15);\n            });\n          } else {\n            onGMListTableReady();\n          }\n        }, 15);\n      };\n      var _$buttons;\n      onGMListTableReady();\n    }\n    $list.on('bp_ajax_request', function (event, data) {\n      setTimeout(function () {\n        switch (data.object) {\n          case 'activity':\n            /*let $aList;\n             // Race with onActivityStreamReady() ...\n            setTimeout(function() {\n                $aList = $aStream.children('.activity-list');\n                 if ( $aList.length ) {\n                    $list.find('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n                     let $ac_input = $list.find('.ac-input');\n                     $ac_input.on('input', function() {\n                        let $this = $(this);\n                         if( this.clientHeight < this.scrollHeight ) {\n                            $this.css('height', this.scrollHeight);\n                        } else {\n                            while( this.clientHeight >= this.scrollHeight ) {\n                                $this.css('height', this.clientHeight - 22);\n                            }\n                             if ( this.scrollHeight > 40 ) {\n                                $this.css('height', this.scrollHeight);\n                            } else {\n                                $this.css('height', '');\n                            }\n                        }\n                    });\n                     $ac_input.on('keydown', function(event) {\n                        if(event.keyCode === 13 && ! event.altKey && ! event.ctrlKey && ! event.shiftKey) {\n                            event.preventDefault();\n                            $(this).closest('.ac-reply-content').find('input[name=\"ac_form_submit\"]').click();\n                        }\n                    });\n                } else {\n                    onActivityStreamReady();\n                }\n            }, 150);*/\n\n            // Race with sync call further above\n            if ($aStream.length) {\n              onActivityStreamReady();\n            }\n            break;\n          case 'members':\n            switch (data.template) {\n              case 'member_notifications':\n                $('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n                $('.mark-read[data-bs-toggle=\"tooltip\"]').tooltip();\n                if (typeof $.fn.select2 != 'undefined') {\n                  $('#notification-select').select2({\n                    minimumResultsForSearch: 33\n                  });\n                }\n                break;\n            }\n            break;\n        }\n        did_bp_ajax_request = true;\n      }, 15);\n    });\n    $(document).ajaxSend(function (event, xhr, settings) {\n      // console.log(event);\n      // console.log(xhr);\n      // console.log(settings);\n      if (typeof settings.data == 'undefined') {\n        return true;\n      }\n      var data = new URLSearchParams(settings.data),\n        action = data.get('action');\n      if (typeof action == 'undefined') {\n        return true;\n      }\n      switch (action) {\n        case 'post_update':\n          $('#whats-new-form').addClass('loading');\n          $('#whats-new-spinner').removeClass('d-none').addClass('d-flex');\n          break;\n        case 'delete_activity':\n          if ('true' === data.get('is_comment')) {\n            $('#acomment-' + data.get('id')).addClass('loading');\n          } else {\n            $('#activity-' + data.get('id')).addClass('loading');\n          }\n          break;\n        case 'messages_get_thread_messages':\n        case 'messages_dismiss_sitewide_notice':\n          $('.tooltip').remove();\n          break;\n        case 'messages_get_user_message_threads':\n          var box = data.get('box'),\n            _$subnav = $('.subnav'),\n            _$current = _$subnav.children('[data-bp-user-scope=\"' + box + '\"]').children('.btn'),\n            _$buttons2 = _$subnav.find('.btn');\n          _$buttons2.removeClass('btn-secondary').addClass('btn-outline-secondary');\n          _$current.removeClass('btn-outline-secondary').addClass('btn-secondary');\n          break;\n        case 'groups_get_group_potential_invites':\n          $('.tooltip').remove();\n          break;\n      }\n    });\n    $(document).ajaxComplete(function (event, xhr, settings) {\n      // console.log(event);\n      // console.log(xhr);\n      // console.log(settings);\n      if (typeof settings.data == 'undefined') {\n        return true;\n      }\n      var data = new URLSearchParams(settings.data),\n        action = data.get('action');\n      if (typeof action == 'undefined') {\n        return true;\n      }\n      switch (action) {\n        case 'post_update':\n          $('#whats-new-form').removeClass('loading');\n          $('#whats-new-spinner').removeClass('d-flex').addClass('d-none');\n          break;\n        case 'delete_activity':\n          setTimeout(function () {\n            if ('true' === data.get('is_comment')) {\n              $('#acomment-' + data.get('id')).removeClass('loading');\n            } else {\n              $('#activity-' + data.get('id')).removeClass('loading');\n            }\n          }, 315);\n          if (typeof xhr.responseJSON != 'undefined' && xhr.responseJSON.success === false) {\n            setTimeout(function () {\n              $('.bp-feedback.bp-messages.error').addClass('alert alert-danger');\n            }, 15);\n          }\n          break;\n        case 'promote':\n        case 'demote':\n          setTimeout(function () {\n            $button = $('#group-members-list-table').find('.btn[data-action=\"edit\"]:not(.js-added)');\n            $button.addClass('js-added');\n            $button.on('click', function () {\n              var $tr = $(this).closest('tr');\n              function onBtnsClick() {\n                var $group = $tr.children('.urole-column').children('.group-member-edit'),\n                  $select = $group.children('select'),\n                  $abort = $tr.children('.uname-column').find('.btn[data-action=\"abort\"]');\n                $select.addClass('form-control');\n                $group.addClass('mb-3');\n                if (typeof $.fn.select2 != 'undefined') {\n                  $select.select2({\n                    minimumResultsForSearch: 33\n                  });\n                }\n                $abort.on('click', function () {\n                  var $tr = $(this).closest('tr');\n                  setTimeout(function () {\n                    var $button = $tr.find('.btn[data-action=\"edit\"]');\n                    $button.addClass('js-added');\n                    $button.on('click', function () {\n                      var $tr = $(this).closest('tr');\n                      setTimeout(onBtnsClick, 15);\n                    });\n                  }, 15);\n                });\n              }\n              setTimeout(onBtnsClick, 15);\n            });\n          }, 15);\n          break;\n      }\n    });\n    $(document).ajaxSuccess(function (event, xhr, settings) {\n      // console.log(event);\n      // console.log(xhr);\n      // console.log(settings);\n      if (typeof xhr.responseJSON == 'undefined') {\n        return true;\n      }\n      var response = xhr.responseJSON;\n      if (typeof response.success == 'undefined') {\n        return true;\n      }\n      if (false === response.success) {\n        return true;\n      }\n      var data = new URLSearchParams(settings.data),\n        action = data.get('action');\n      if (typeof action == 'undefined') {\n        return true;\n      }\n      setTimeout(function () {\n        switch (action) {\n          case 'friends_add_friend':\n          case 'friends_withdraw_friendship':\n          case 'friends_remove_friend':\n            setTimeout(function () {\n              var $wrapper = $('.member-header-actions').find('.generic-button.friendship-button'),\n                $button = $wrapper.children('.friendship-button'),\n                $dropdown = $wrapper.closest('.dropdown');\n              if ($dropdown.length) {\n                $button.addClass('btn').addClass('dropdown-item');\n              } else {\n                $wrapper.addClass('btn-group');\n                $button.addClass('btn').addClass('btn-primary').addClass('btn-lg');\n              }\n            }, 15);\n            break;\n          case 'activity_filter':\n          case 'post_update':\n            setTimeout(function () {\n              var items = 'activity_filter' == action ? response.data.contents : response.data.activity,\n                // let items  = response.data.activity,\n                $items = $($.parseHTML(items)).filter('.activity-item'),\n                ids = [];\n              $items.each(function () {\n                ids.push('#' + this.id);\n              });\n              var $ac_input = $(ids.join(', ')).find('.ac-input');\n              $ac_input.on('input', function () {\n                $this = $(this);\n                if (this.clientHeight < this.scrollHeight) {\n                  $this.css('height', this.scrollHeight);\n                } else {\n                  while (this.clientHeight >= this.scrollHeight) {\n                    $this.css('height', this.clientHeight - 22);\n                  }\n                  if (this.scrollHeight > 40) {\n                    $this.css('height', this.scrollHeight);\n                  } else {\n                    $this.css('height', '');\n                  }\n                }\n              });\n              $ac_input.on('keydown', function (event) {\n                if (event.keyCode === 13 && !event.altKey && !event.ctrlKey && !event.shiftKey) {\n                  event.preventDefault();\n                  $(this).closest('.ac-reply-content').find('input[name=\"ac_form_submit\"]').click();\n                }\n              });\n            }, 150);\n            break;\n          case 'new_activity_comment':\n            // Sync with form.fadeOut( 200, ...\n            setTimeout(function () {\n              var $element = $($.trim(response.data.contents)),\n                comment_id = $element.attr('id'),\n                $comment = $('#' + comment_id),\n                $list = $comment.parent(),\n                $parent = $list.parent('.comment-item');\n              if ($parent.length) {\n                console.log($parent);\n                var $container = $parent.children('.d-flex').children('.flex-grow-1'),\n                  $replies = $container.children('.activity-comments-list'),\n                  $ac_input = $parent.find('.ac-input');\n                if (!$replies.length) {\n                  $replies = $(document.createElement('ul'));\n                  $replies.addClass('activity-comments-list');\n                  $replies.addClass('list-unstyled');\n                  $replies.addClass('mb-0');\n                  $replies.appendTo($container);\n                }\n                $comment.appendTo($replies);\n                $list.remove();\n                $ac_input.css('height', '');\n              } else {\n                var _$ac_input = $comment.closest('.activity-comments').find('.ac-input');\n                if (!$list.hasClass('activity-comments-list')) {\n                  $list.addClass('activity-comments-list');\n                  $list.addClass('list-unstyled');\n                  $list.addClass('mb-0');\n                }\n                _$ac_input.css('height', '');\n              }\n            }, 215);\n            break;\n          case 'bp_avatar_set':\n            setTimeout(function () {\n              var $item = $('.avatar-nav-item:not(.nav-item)'),\n                $link = $item.children();\n              $item.addClass('nav-item');\n              $link.on('click', function () {\n                var $this = $(this);\n                $this.parent().parent().find('.active').removeClass('active');\n                $this.addClass('active');\n              });\n            }, 15);\n            break;\n          case 'messages_get_user_message_threads':\n            setTimeout(function () {\n              var $filters = $('.bp-messages-filters').children('ul'),\n                $pagination = $filters.children('.last.filter');\n              if (typeof $.fn.select2 != 'undefined') {\n                $('#user-messages-bulk-actions').select2({\n                  minimumResultsForSearch: 33\n                });\n              }\n              $filters.addClass('row').addClass('align-items-center').addClass('list-unstyled').addClass('mb-0');\n              $pagination.addClass('col-md flex-md-grow-0 mt-3 mt-md-0');\n              $('#message-threads').addClass('list-unstyled');\n              $('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n            }, 15);\n            break;\n          case 'messages_get_thread_messages':\n            setTimeout(function () {\n              $('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n            }, 15);\n            break;\n          case 'messages_star':\n          case 'messages_unstar':\n            setTimeout(function () {\n              $('.tooltip').remove();\n              $('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n            }, 15);\n            break;\n          case 'messages_delete':\n            setTimeout(function () {\n              $('.tooltip').remove();\n            }, 15);\n            break;\n          case 'groups_get_group_potential_invites':\n            setTimeout(function () {\n              var $list;\n              function onInviteMembersListReady() {\n                $list = $('#members-list');\n                if ($list.length) {\n                  var onBtnsClick = function onBtnsClick() {\n                    $('.tooltip').remove();\n                    setTimeout(function () {\n                      var $item = $list.children('li:not(.col-sm-6)');\n                      _$buttons3 = $item.find('.button');\n                      $item.addClass('col-sm-6 col-md-4');\n                      $item.find('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n                      _$buttons3.on('click', onBtnsClick);\n                    }, 0);\n                    setTimeout(function () {\n                      var $subnav = $invitesNav.children('.subnav'),\n                        $items = $subnav.children('li'),\n                        $dynamic = $items.filter('.dynamic, .pending'),\n                        $button = $dynamic.children('.btn');\n                      $dynamic.addClass('btn-group');\n                      $button.on('click', function () {\n                        var $this = $(this),\n                          $current = $this.closest('.subnav').children('.current').children('.btn');\n                        $current.removeClass('btn-secondary').addClass('btn-outline-secondary');\n                        $this.removeClass('btn-outline-secondary').addClass('btn-secondary');\n                        setTimeout(function () {\n                          var $invites = $('#send-invites-editor'),\n                            $list = $invites.children('ul'),\n                            $items = $list.children('li'),\n                            $tooltips = $items.children('.bp-tooltip[data-bs-toggle=\"tooltip\"]');\n                          $list.addClass('list-unstyled row g-1');\n                          $items.addClass('col flex-grow-0 flex-shrink-1');\n                          $tooltips.addClass('d-block');\n                          $tooltips.tooltip();\n                          $tooltips.on('click', function () {\n                            $('.tooltip').remove();\n                          });\n                        }, 15);\n                      });\n                    }, 15);\n                  };\n                  var _$items2 = $list.children('li'),\n                    _$buttons3 = _$items2.find('.button');\n                  _$items2.addClass('col-sm-6 col-md-4');\n                  $list.addClass('list-unstyled').addClass('row');\n                  $('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n                  _$buttons3.on('click', onBtnsClick);\n                } else {\n                  setTimeout(onInviteMembersListReady, 150);\n                }\n              }\n              onInviteMembersListReady();\n            }, 15);\n            break;\n          case 'groups_send_group_invites':\n            setTimeout(function () {\n              var $subnav = $invitesNav.children('.subnav'),\n                $items = $subnav.children('li'),\n                $dynamic = $items.filter('.dynamic, .pending'),\n                $button = $dynamic.children('.btn');\n              $dynamic.addClass('btn-group');\n              $button.on('click', function () {\n                var $this = $(this),\n                  $current = $this.closest('.subnav').children('.current').children('.btn');\n                $current.removeClass('btn-secondary').addClass('btn-outline-secondary');\n                $this.removeClass('btn-outline-secondary').addClass('btn-secondary');\n                setTimeout(function () {\n                  var $invites = $('#send-invites-editor'),\n                    $list = $invites.children('ul'),\n                    $items = $list.children('li:not(:first-child)');\n                  $list.addClass('list-unstyled form-row');\n                  $items.addClass('col flex-grow-0 flex-shrink-1 py-1');\n                }, 15);\n              });\n            }, 15);\n            break;\n        }\n      }, 15);\n    });\n    $(document).ajaxError(function (event, xhr, settings) {\n      // console.log(event);\n      // console.log(xhr);\n      // console.log(settings);\n      if (typeof settings.data == 'undefined') {\n        return true;\n      }\n      var data = new URLSearchParams(settings.data),\n        action = data.get('action');\n      if (typeof action == 'undefined') {\n        return true;\n      }\n      setTimeout(function () {\n        switch (action) {\n          case 'post_update':\n            setTimeout(function () {\n              var $alert = $('#message'),\n                $icon = $alert.children('.bp-icon'),\n                $text = $alert.children('p'),\n                type = $alert.attr('class').replace('bp-messages bp-feedback ', ''),\n                alertClass,\n                iconClass;\n              switch (type) {\n                case 'error':\n                  alertClass = 'alert-danger';\n                  iconClass = 'fa-times-circle';\n                  break;\n                case 'updated':\n                  alertClass = 'alert-success';\n                  iconClass = 'fa-check-circle';\n                  break;\n                case 'info':\n                default:\n                  alertClass = 'alert-info';\n                  iconClass = 'fa-info-circle';\n                  break;\n              }\n              $alert.addClass('alert').addClass(alertClass).addClass('d-flex').addClass('w-100').addClass('mt-3').addClass('mb-0');\n              $icon.addClass('fas').addClass(iconClass).addClass('mt-1').addClass('me-2');\n              $text.addClass('mb-0');\n            }, 15);\n            break;\n        }\n      }, 15);\n    });\n    $('.bp-user.messages .bp-subnavs .btn').on('click', function (event) {\n      var $this = $(this),\n        $buttons = $this.parent().parent().find('.btn');\n      $buttons.removeClass('btn-secondary').addClass('btn-outline-secondary');\n      $this.removeClass('btn-outline-secondary').addClass('btn-secondary');\n    });\n    $('.item-options.dropdown a').on('click', function (event) {\n      var $this = $(this),\n        $parent = $this.parent(),\n        $toggle = $parent.prev(),\n        $items = $parent.children(),\n        label = $this.text();\n      $items.removeClass('active');\n      $this.addClass('active');\n      $toggle.text(label);\n      $toggle.dropdown('toggle');\n    });\n    if (typeof BP_Uploader != 'undefined') {\n      var $chgImage = $('.profile.change-avatar, .profile.change-cover-image, #group-create-body, .group-admin.group-avatar #group-settings-form');\n      if ($chgImage.length) {\n        var onBPUploaderReady = function onBPUploaderReady() {\n          setTimeout(function () {\n            $uploaderArea = $uploader.children('.bp-uploader-window');\n            if ($uploaderArea.length) {\n              var container = $('#' + BP_Uploader.settings.defaults.container),\n                drop_element = $('#' + BP_Uploader.settings.defaults.drop_element),\n                browse_button = $('#' + BP_Uploader.settings.defaults.browse_button);\n              if (container.hasClass('drag-drop')) {\n                drop_element.on('dragover.wp-uploader', function () {\n                  console.log('dragover');\n                  drop_element.removeClass('bg-body-secondary');\n                  drop_element.addClass('bg-primary');\n                  drop_element.addClass('text-light');\n                  browse_button.removeClass('btn-primary');\n                  browse_button.addClass('btn-light');\n                }).on('dragleave.wp-uploader, drop.wp-uploader', function () {\n                  drop_element.removeClass('bg-primary');\n                  drop_element.removeClass('text-light');\n                  drop_element.addClass('bg-body-secondary');\n                  browse_button.removeClass('btn-light');\n                  browse_button.addClass('btn-primary');\n                });\n              }\n            } else {\n              onBPUploaderReady();\n            }\n          }, 150);\n        };\n        var $avatarNav = $chgImage.children('.bp-avatar-nav'),\n          $uploader = $chgImage.children('.bp-avatar, .bp-cover-image'),\n          $avatarNavItems,\n          $uploaderArea;\n        if ($avatarNav.length) {\n          var onAvatarNavReady = function onAvatarNavReady() {\n            setTimeout(function () {\n              $avatarNavItems = $avatarNav.children('.avatar-nav-items');\n              if ($avatarNavItems.length) {\n                var _$items3 = $avatarNavItems.children(),\n                  _$links = _$items3.children();\n                _$items3.addClass('nav-item');\n                $avatarNavItems.children('.current').children().addClass('active');\n                _$links.on('click', function () {\n                  _$links.removeClass('active');\n                  $(this).addClass('active');\n                });\n                $('#bp-avatar-upload a').on('click', function () {\n                  setTimeout(onBPUploaderReady, 15);\n                });\n                $avatarNavItems.addClass('nav').addClass('nav-tabs').addClass('mb-3');\n              } else {\n                onAvatarNavReady();\n              }\n            }, 150);\n          };\n          onAvatarNavReady();\n        }\n        onBPUploaderReady();\n      }\n    }\n    var $messagesFilters = $('.bp-messages-filters');\n    if ($messagesFilters.length) {\n      var onMessagesFiltersReady = function onMessagesFiltersReady() {\n        setTimeout(function () {\n          $filters = $messagesFilters.children('ul');\n          var $pagination = $filters.children('.last.filter');\n          if ($filters.length) {\n            if (typeof $.fn.select2 != 'undefined') {\n              $('#user-messages-bulk-actions').select2({\n                minimumResultsForSearch: 33\n              });\n            }\n            $filters.addClass('row').addClass('align-items-center').addClass('list-unstyled').addClass('mb-0');\n            $pagination.addClass('col-md flex-md-grow-0 mt-3 mt-md-0');\n            $('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n          } else {\n            onMessagesFiltersReady();\n          }\n        }, 150);\n      };\n      var $filters;\n      onMessagesFiltersReady();\n    }\n    var $messagesContent = $('.bp-messages-content');\n    if ($messagesFilters.length) {\n      var onMessageThreadsReady = function onMessageThreadsReady() {\n        setTimeout(function () {\n          $messageThreads = $('#message-threads');\n          if ($messageThreads.length) {\n            $messageThreads.addClass('list-unstyled');\n          } else {\n            onMessageThreadsReady();\n          }\n        }, 150);\n      };\n      var $messageThreads;\n      onMessageThreadsReady();\n    }\n    if ($settings.length) {\n      $settings.children('.info').show();\n      $settings.find('.wp-cancel-pw').show();\n      $settings.children('.pw-weak').hide();\n      $settings.find('.wp-hide-pw').on('click', function () {\n        var $icon = $(this).children('.far');\n        if ($icon.hasClass('fa-eye-slash')) {\n          $icon.removeClass('fa-eye-slash');\n          $icon.addClass('fa-eye');\n        } else {\n          $icon.removeClass('fa-eye');\n          $icon.addClass('fa-eye-slash');\n        }\n      });\n    }\n    if ($signUpForm.length) {\n      $signUpForm.find('.wp-hide-pw').on('click', function () {\n        var $icon = $(this).children('.far');\n        if ($icon.hasClass('fa-eye-slash')) {\n          $icon.removeClass('fa-eye-slash');\n          $icon.addClass('fa-eye');\n        } else {\n          $icon.removeClass('fa-eye');\n          $icon.addClass('fa-eye-slash');\n        }\n      });\n      $signUpForm.find('.field-visibility-settings-toggle').each(function () {\n        var $this = $(this),\n          $srText = $(this).children('.current-visibility-level'),\n          $toggleText = $(this).find('.visibility-toggle-link').children('span[aria-hidden=\"true\"]'),\n          $inputs = $(this).find('.field-visibility-settings').find('input[type=\"radio\"]');\n        $inputs.on('change', function () {\n          var text = $(this).next('.form-check-label').children('.field-visibility-text').text();\n          $srText.text(text);\n          $toggleText.text(text);\n        });\n      });\n    }\n    if ($siteNotice.length) {\n      $siteNotice.find('.bp-tooltip[data-bs-toggle=\"tooltip\"]').tooltip();\n      $siteNotice.toast({\n        autohide: false\n      });\n      if (typeof BP_Nouveau != 'undefined') {\n        $siteNotice.on('hide.bs.toast', function () {\n          $.post(BP_Nouveau.ajaxurl, {\n            action: 'messages_dismiss_sitewide_notice',\n            nonce: BP_Nouveau.nonces.messages\n          });\n        });\n      }\n      $siteNotice.toast('show');\n    }\n    if ($memberBlocks.length) {\n      var memberBlocksOnWindowResize = function memberBlocksOnWindowResize() {\n        if (!_ticking) {\n          requestAnimationFrame(memberBlocksResize);\n        }\n        _ticking = true;\n      };\n      var memberBlocksResize = function memberBlocksResize() {\n        $memberBlocks.each(function () {\n          var $this = $(this);\n          if ($this.hasClass('has-cover') && $this.hasClass('avatar-full')) {\n            var $handle = $this.find('.user-nicename');\n            if (!$handle.is(':last-child')) {\n              var _$next3 = $handle.next('.bp-profile-button');\n              if (_$next3.length) {\n                if (window.innerWidth >= 768) {\n                  $handle.css('max-width', 'calc(100% - ' + _$next3.outerWidth(true) + 'px');\n                } else {\n                  $handle.css('max-width', '');\n                }\n              }\n            }\n          }\n        });\n        _ticking = false;\n      };\n      if (window.innerWidth >= 768) {\n        $memberBlocks.each(function () {\n          var $this = $(this);\n          if ($this.hasClass('has-cover') && $this.hasClass('avatar-full')) {\n            var $handle = $this.find('.user-nicename');\n            if (!$handle.is(':last-child')) {\n              var _$next2 = $handle.next('.bp-profile-button');\n              if (_$next2.length) {\n                $handle.css('max-width', 'calc(100% - ' + _$next2.outerWidth(true) + 'px');\n              }\n            }\n          }\n        });\n      }\n      var _ticking = false;\n      window.addEventListener('resize', memberBlocksOnWindowResize);\n    }\n    if ($membersBlocks.length) {\n      var membersBlocksOnWindowResize = function membersBlocksOnWindowResize() {\n        if (!_ticking2) {\n          requestAnimationFrame(membersBlocksResize);\n        }\n        _ticking2 = true;\n      };\n      var membersBlocksResize = function membersBlocksResize() {\n        $membersBlocks.each(function () {\n          var $this = $(this);\n          if (!$this.hasClass('is-grid') && $this.hasClass('avatar-full')) {\n            var $members = $membersBlocks.children('.member-content');\n            $members.each(function () {\n              var $member = $(this);\n              if ($member.hasClass('has-activity')) {\n                var $activity = $member.find('.wp-block-quote'),\n                  $p = $activity.children('p'),\n                  $first = $($p.get(0));\n                if (window.innerWidth >= 768) {\n                  if ($p.length > 1 || $activity.prop('clientHeight') < $activity.prop('scrollHeight') || $first.prop('clientHeight') < $first.prop('scrollHeight')) {\n                    $activity.addClass('faded');\n                  }\n                } else {\n                  $activity.removeClass('faded');\n                }\n              }\n            });\n          }\n        });\n        _ticking2 = false;\n      };\n      if (window.innerWidth >= 768) {\n        $membersBlocks.each(function () {\n          var $this = $(this);\n          if (!$this.hasClass('is-grid') && $this.hasClass('avatar-full')) {\n            var $members = $membersBlocks.children('.member-content');\n            $members.each(function () {\n              var $member = $(this);\n              if ($member.hasClass('has-activity')) {\n                var $activity = $member.find('.wp-block-quote'),\n                  $p = $activity.children('p'),\n                  $first = $($p.get(0));\n                if ($p.length > 1 || $activity.prop('clientHeight') < $activity.prop('scrollHeight') || $first.prop('clientHeight') < $first.prop('scrollHeight')) {\n                  $activity.addClass('faded');\n                }\n              }\n            });\n          }\n        });\n      }\n      var _ticking2 = false;\n      window.addEventListener('resize', membersBlocksOnWindowResize);\n    }\n    if ($groupBlocks.length) {\n      var groupBlocksOnWindowResize = function groupBlocksOnWindowResize() {\n        if (!_ticking3) {\n          requestAnimationFrame(groupBlocksResize);\n        }\n        _ticking3 = true;\n      };\n      var groupBlocksResize = function groupBlocksResize() {\n        $groupBlocks.each(function () {\n          var $this = $(this);\n          if ($this.hasClass('has-description') && $this.hasClass('has-cover') && $this.hasClass('avatar-full')) {\n            var $desc = $this.find('.group-description-content');\n            if (window.innerWidth >= 768) {\n              var $p = $desc.children('p'),\n                $first = $($p.get(0)),\n                height;\n              if ($desc.is(':last-child')) {\n                height = $this.hasClass('has-cover') ? 96 : 144;\n              } else {\n                height = $this.hasClass('has-cover') ? 48 : 96;\n              }\n              if ($p.length > 1 || $first.outerHeight() > height) {\n                $desc.addClass('faded');\n              } else {\n                $desc.removeClass('faded');\n              }\n            } else {\n              $desc.removeClass('faded');\n            }\n          }\n        });\n        _ticking3 = false;\n      };\n      if (window.innerWidth >= 768) {\n        $groupBlocks.each(function () {\n          var $this = $(this);\n          if ($this.hasClass('has-description') && $this.hasClass('avatar-full')) {\n            var $desc = $this.find('.group-description-content'),\n              $p = $desc.children('p'),\n              $first = $($p.get(0)),\n              height;\n            if ($desc.is(':last-child')) {\n              height = $this.hasClass('has-cover') ? 96 : 144;\n            } else {\n              height = $this.hasClass('has-cover') ? 48 : 96;\n            }\n            if ($p.length > 1 || $first.outerHeight() > height) {\n              $desc.addClass('faded');\n            } else {\n              $desc.removeClass('faded');\n            }\n          }\n        });\n      }\n      var _ticking3 = false;\n      window.addEventListener('resize', groupBlocksOnWindowResize);\n    }\n    if ($groupsBlocks.length) {\n      var groupsBlocksOnWindowResize = function groupsBlocksOnWindowResize() {\n        if (!_ticking4) {\n          requestAnimationFrame(groupsBlocksResize);\n        }\n        _ticking4 = true;\n      };\n      var groupsBlocksResize = function groupsBlocksResize() {\n        $groupsBlocks.each(function () {\n          var $this = $(this);\n          if (!$this.hasClass('is-grid') && $this.hasClass('avatar-full')) {\n            var $groups = $groupsBlocks.children('.group-content');\n            $groups.each(function () {\n              var $group = $(this);\n              if ($group.hasClass('has-description')) {\n                var $desc = $group.find('.group-description-content');\n                if (window.innerWidth >= 768) {\n                  if ($desc.prop('clientHeight') < $desc.prop('scrollHeight')) {\n                    $desc.addClass('faded');\n                  }\n                } else {\n                  $desc.removeClass('faded');\n                }\n              }\n            });\n          }\n        });\n        _ticking4 = false;\n      };\n      if (window.innerWidth >= 768) {\n        $groupsBlocks.each(function () {\n          var $this = $(this);\n          if (!$this.hasClass('is-grid') && $this.hasClass('avatar-full')) {\n            var $groups = $groupsBlocks.children('.group-content');\n            $groups.each(function () {\n              var $group = $(this);\n              if ($group.hasClass('has-description')) {\n                var $desc = $group.find('.group-description-content');\n                if ($desc.prop('clientHeight') < $desc.prop('scrollHeight')) {\n                  $desc.addClass('faded');\n                }\n              }\n            });\n          }\n        });\n      }\n      var _ticking4 = false;\n      window.addEventListener('resize', groupsBlocksOnWindowResize);\n    }\n  });\n})(jQuery);\n\n//# sourceURL=webpack://enlightenment/./src/js/buddypress.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/buddypress.js"]();
/******/ 	
/******/ })()
;